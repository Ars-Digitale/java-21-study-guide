# DecimalFormat and NumberFormat — Certification-Grade Explanation

`DecimalFormat` is a concrete subclass of `NumberFormat` that provides fine-grained control over numeric formatting using patterns. It is frequently tested in Java certification exams, especially the meaning of the `0` and `#` symbols.

## Relationship Between NumberFormat and DecimalFormat

`NumberFormat` defines locale-aware formatting via factory methods, while `DecimalFormat` allows explicit pattern-based control.

```java
NumberFormat nf = NumberFormat.getInstance(Locale.US);
DecimalFormat df = (DecimalFormat) nf;
```

Or directly:

```java
DecimalFormat df = new DecimalFormat("#,##0.00");
```

- DecimalFormat is mutable
- DecimalFormat is NOT thread-safe
- Formatting is locale-sensitive via DecimalFormatSymbols

## DecimalFormat Pattern Structure

A pattern may contain a positive and an optional negative subpattern, separated by `;`.

```text
#,##0.00;(#,##0.00)
```

- First part → positive numbers
- Second part → negative numbers
- If omitted, negative numbers use '-' automatically

## The 0 Symbol (Mandatory Digit)

The `0` symbol forces a digit to appear, padding with zeros if necessary.

```java
DecimalFormat df = new DecimalFormat("0000.00");
System.out.println(df.format(12.3));
```

```bash
0012.30
```

- Controls minimum number of digits
- Pads with zeros
- Used for fixed-width or aligned output

## The # Symbol (Optional Digit)

The `#` symbol displays a digit only if it exists.

```java
DecimalFormat df = new DecimalFormat("####.##");
System.out.println(df.format(12.3));
```

```bash
12.3
```

- Suppresses leading zeros
- Suppresses trailing zeros
- Used for human-readable formatting

## Combining 0 and #

Patterns often combine both symbols for flexibility.

```java
DecimalFormat df = new DecimalFormat("#,##0.##");
System.out.println(df.format(12));
System.out.println(df.format(12.5));
System.out.println(df.format(12345.678));
```

```bash
12
12.5
12,345.68
```

- At least one integer digit is guaranteed
- Fractional digits are optional
- Grouping is enabled

## Decimal and Grouping Separators

In patterns:

- . → decimal separator
- , → grouping separator

Actual symbols depend on Locale.

## DecimalFormatSymbols

`DecimalFormatSymbols` defines locale-specific formatting symbols.

```java
DecimalFormatSymbols symbols =
DecimalFormatSymbols.getInstance(Locale.FRANCE);

DecimalFormat df =
new DecimalFormat("#,##0.00", symbols);

System.out.println(df.format(1234.5));
```

```bash
1 234,50
```

- Controls decimal and grouping separators
- Controls minus sign and currency symbol
- Controls NaN and Infinity strings

## Parsing with DecimalFormat

`DecimalFormat` can also parse numbers. Parsing is lenient by default.

```java
DecimalFormat df = new DecimalFormat("#,##0.##");
Number n = df.parse("1,234.56abc");
```

- Parsing stops at first invalid character
- Trailing text is ignored

To enforce strict parsing:

```java
df.setParseStrict(true);
```

## Special DecimalFormat Patterns

```text
0.###E0 scientific notation
###% percent
¤#,##0.00 currency
```

## Certification Rules and Pitfalls

- DecimalFormat is a NumberFormat subclass
- 0 forces digits, # does not
- Patterns control formatting, not rounding mode
- Grouping only works if ',' is present
- Parsing may succeed partially without error
- DecimalFormat is NOT thread-safe

> **Note:** 
In certification exams, questions often hinge on subtle differences between 0 and # or on locale-dependent symbols — always evaluate the pattern carefully.
